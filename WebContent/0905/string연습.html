<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/publicstyle.css">
<script>
function proc1(){
	  
	  a = prompt("주민번호 입력 ", '-제외하고 숫자만 입력 ');
	  //a = 110326-4432618
	  
	  //성별구하기 
	  aa =  a.substr(6,1);
	  if(aa == "1" || aa == "3") gend = "남자";
	  else if(aa == "2" || aa == "4") gend = "여자";
	  
	  //생일 구하기 
	  if(aa == "1" || aa =="2") year = "19";
	  else if(aa == "3" || aa == "4") year = "20";
	  
	  yy = a.substr(0,2);
	  mm = a.substr(2,2);
	  dd = a.substr(4,2);
	  
	  year = year.concat(yy);  //1911  2011
	  bir = year  + "년 " + mm + "월 "  + dd + "일";
	  
	  //나이구하기 
	  today = new Date();
	  age = today.getFullYear() - year;
	  
	  //출력 
	  res = "주민번호 : " + a.substring(0, 6) + "-" ; 
	  res += "생일 : " + bir + "<br>";
	  res += "성별 : " + gend  + "<br>";
	  res += "나이 : " + age ;
	  
	  document.getElementById('result1').innerHTML = res;
}
// function proc1(){//ppt 410페이지 문제
// 	a=prompt("주민번호 압력");
// 	str=110326-4432618
// 	aa=str.slice(0,2)
// 	aa=str.substring(7,8)
// 	aa=str.substr(7,1)
// 	aa=str.char(7)
// // 	if(a.slice(7,8)==3||4){
// // 		a.slice(0,2)
// // 	}
	
	
// 	//1.남자인지 여자인지 성별을 구한다 변수에 저장
// 	if(aa=="1" || aa=="3") gend="남자"
// 	else if(aa=="2" || aa == "4" gend = "여자")
	
// 	//2.1900인지 2000인지 구한다 변수에 저장
// 	if(aa=="3" || aa=="4") "20"+aa
// 	else "19"+aa
	
	
// 	//3.생년월일 구한다 변수에 저장
	
	
// 	//4.나이를 구한다 변수에 저장
	
// 	//5. 변수에 저장된 값들을 이용해서 출력한다
	
	
// }
function proc2(){
	a=prompt("주민번호 압력",'-제외하고 숫자만 입력');
	//a="9910101234567"
	
	//ss="234567892345";
	
	//length=12 index:0~11
	//곱하기=0~10
	hap=0;
	//for(i=0;i<ss.length;i++){
	for(i=0;i<a.length-1;i++){
		
		//code1= paeseImt(a.substr(i,1));
		//code2= paeseImt(ss.substr(i,1));
		
		code1= parseInt(a.charAt(i));
// 		code2= parseInt(ss.charAt(i));
		
// 		hap+=(code1*code2);
		
		hap+= code1*(i%8 +2);
		
	}
	result = 11-hap % 11;
// 	if(result == 10) result=0;
// 	else if(result==11) result=1;
	result=result %10;


	res="주민번호: "+a.substring(0,6)+"-"+a.substr(6,1)+"******<br>";
	
	if(result==a.substr(12,1)){ //a.a.charAt(12)
		res+="올바른 번호입니다";
	}else{
		res+="다시 확인하세여";
	}
	document.getElementById('result2').innerHTML=res;
}

</script>
<style>
</style>
</head>
<body>

<div class="box">
 <h3>생년원일과 성별구하기</h3>
 주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.(입력은 prompt로 입력받는다.)<br>
예) 주민등록번호를 110326-4432618로 입력 받은 경우<br>
생일 : 2011년 3월 26일<br>
성별 : 여자  나이: 8살<br>
 <br>
 <br>
 <br>
 <br><br>
 <input type="button" value="실행" onclick="proc1()">
 <br><br>
<div id="result1"></div>

</div>
<div class="box">
 <h3>주민번호 판별</h3>
	주민등록번호를 입력 받아 주민등록번호의 유효성을 검사.(ABCDEF-GHIJKLM)<br>
	1.A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
	2.1번의 합을 11로 나눈 나머지를 구한다.<br>
	3.11에서 2번의 결과를 뺀다.<br>
	4.3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
	5.4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>
 <br><br>
 <input type="button" value="실행" onclick="proc2()">
 <br><br>
 <div id="result2"></div>
</div>
</body>


</html>